import{d as m,ab as x,h as d,v,y,ac as $,D as A,ad as u,ae as C,o as p,k as B,w as g,a as n,b as a,e,i as L,c as N,g as l}from"./index-ee83e50c.js";import{t as P,a as R,_ as T}from"./vee-validate-yup.esm-29c26862.js";import{_ as F,a as V}from"./VeeInputPassword.vue_vue_type_script_setup_true_lang-35355925.js";import"./VeeInput.vue_vue_type_script_setup_true_lang-9c362fc0.js";import"./VInput.vue_vue_type_script_setup_true_lang-4bdfbe48.js";const q={class:"column gap-m w-100"},D=m({__name:"LoginForm",setup(b){const t=x(),r=d(),{showError:i}=v(),o=y(),c=$(),h=P(A({email:u().required().email(),password:u().required("please enter your password")})),{handleSubmit:f,isSubmitting:S}=R({validationSchema:h}),k=f(async _=>{try{const{data:s}=await C.singIn(_);o.setTokens(s),await c.loadSessionUser(s.localId),await c.loadStoresData(),w()}catch(s){i(s.message)}});function w(){t.push(r.getPersonalArea())}return(_,s)=>(p(),B(e(T),{"button-submit-txt":"Sign in","is-submitting":e(S),"handler-submit":e(k)},{default:g(()=>[n("div",q,[a(e(F)),a(e(V))])]),_:1},8,["is-submitting","handler-submit"]))}}),E={class:"login-page container"},I=n("h1",{class:"mb-m"},"Login",-1),U={class:"login-page__box column gap-xxs bg-dark-blue shadow-black border-radius"},J=m({__name:"LoginPage",setup(b){const t=d();return(r,i)=>{const o=L("router-link");return p(),N("div",E,[I,a(e(D),{class:"login-page__form login-page__box shadow-black border-radius"}),n("div",U,[l(" New to Fake Cyber Web Store? "),a(o,{class:"link blue",to:e(t).getSignUp()},{default:g(()=>[l(" Create an account ")]),_:1},8,["to"])])])}}});export{J as default};
