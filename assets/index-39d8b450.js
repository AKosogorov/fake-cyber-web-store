import{_ as m}from"./VPagination.vue_vue_type_style_index_0_lang-c0b316a5.js";import{K as y,d as f,S as P,j as h,q as v,p as C,o as L,c as Q,a as p,t as b,e as o,b as _}from"./index-ee83e50c.js";import{u as B,Q as E,_ as M}from"./ProductList.vue_vue_type_style_index_0_lang-28891338.js";import{g as U}from"./AddToCart.vue_vue_type_style_index_0_lang-d9c3774e.js";import"./AddToFavorites.vue_vue_type_style_index_0_lang-c0ca5ff3.js";import"./const-a1839806.js";import"./currency-161c01a1.js";import"./CyberButton.vue_vue_type_script_setup_true_lang-c83485c6.js";function w(){const{list:l,loadList:r,loadListWithQuery:t,loadPage:c,setPage:a,page:s,countPages:n,isLoading:i,changeLimit:u}=B({apiHandler:d,mapper:U,initQuery:E});async function d(e){if(!(e!=null&&e.category))throw new Error("Unable to determine category to load list");return y.getProductsOf(e.category,e)}return{products:l,loadProducts:r,loadProductsWithQuery:t,loadPage:c,setPage:a,page:s,countPages:n,isLoading:i,changeLimit:u}}const x={class:"category-page container"},O={class:"capitalize mb-m"},V={class:"column gap-l mb-l"},q=f({__name:"CategoryPage",setup(l){const r=P(),t=h(()=>r.params.category),{products:c,loadProductsWithQuery:a,isLoading:s,page:n,countPages:i,setPage:u}=w();v(e),C(t,e);function d(g){u(g),a({category:t.value})}function e(){a({category:t.value})}return(g,W)=>(L(),Q("div",x,[p("h1",O,b(o(t)),1),p("div",V,[_(o(M),{products:o(c),"is-loading":o(s)},null,8,["products","is-loading"]),_(o(m),{"model-value":o(n),count:o(i),"is-disabled":o(s),"onUpdate:modelValue":d},null,8,["model-value","count","is-disabled"])])]))}});export{q as default};
